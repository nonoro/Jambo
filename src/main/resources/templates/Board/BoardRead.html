<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Main index page</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
    <meta id="_csrf" name="_csrf" th:content="${_csrf.token}"/>
    <meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}"/>

    <!-- Favicons -->
    <link href="/assets/img/jamboLogo.ico" rel="icon">
    <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
          rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="/assets/css/style.css" rel="stylesheet">

    <!-- =======================================================
    * Template Name: Baker - v4.9.1
    * Template URL: https://bootstrapmade.com/baker-free-onepage-bootstrap-theme/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->

    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,600,0,0"/>
    <link rel="stylesheet" href="/studyBoard/studyBoard.css"/>

    <!--    summber note 관련 테그-->

    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
    <!--    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>-->
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js"></script>

    <!-- include summernote css/js-->
    <link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.8/summernote.css" rel="stylesheet">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.8/summernote.js"></script>
    <script src="/studyBoard/summerNote/summernote-ko-KR.js"></script>

    <!-- Template Main CSS File -->
    <link href="/assets/css/style.css" rel="stylesheet">
    <link href="/board/css/board.css" rel="stylesheet">

    <!-- 새로운폼 css -->
    <link href="/studyBoard/css/css.css" rel="stylesheet">
    <link href="/studyBoard/css/style.css" rel="stylesheet">

    <!-- 끝-->

    <!--신고버튼 layer popup 처리-->

    <!--신고버튼 layer popup 처리-->

</head>

<body>

<!--헤더-->
<header th:replace="../templates/Baker/common/header.html ::header">
</header>

<main id="main">
    <!-- ======= Clients Section ======= -->
    <section id="clients" class="clients section-bg">
        <div class="container">

        </div>
    </section><!-- End Clients Section -->

    <!--Slideshow header-->
    <div class="main_container">
        <div class="mySlides">
            <div class="text">
            </div>
        </div>

        <div class="caption-container">
        </div>

        <div class="row">
            <div class="column">
            </div>
        </div>
    </div>

    <!--    -->


    <!---->


    <div class="board_wrap">
        <div class="board_title">
            <strong><span th:text="${board.title}"></span></strong>
        </div>
        <form class="board_write_wrap">
            <div class="board_write">
                <div class="title">
                    <dl>
                        <dt>작성자</dt>
                        <dt>
                            <span th:text="${board.user.getName()}"></span>
                        </dt>
                    </dl>
                </div>
                <div class="info">
                    <dl>
                        <dt>조회수</dt>
                        <dt>
                            <span th:text="${board.views}"></span>
                        </dt>
                    </dl>
                    <dl>
                        <dt>작성일</dt>
                        <dt>
                            <span th:text="${#temporals.format(board.writeDate, 'yyyy-MM-dd HH:mm')}"></span>
                        </dt>
                    </dl>
                </div>

                <div class="cont">
                    <span th:utext="${board.content}"></span>
                </div>
            </div>

            <div class="bt_wrap">
                <a href="#" class="on">추천

                </a>
                <button type="button" class="btn btn-danger" onclick="openPop()">신고하기</button>

            </div>
        </form>

            <!---------------------------------------댓글 목록 -------------------------------------------->
            <p/>
            <p/>

            <main class="form-signin" style="max-width: 100%;">
                <div/>
                <div/>
                <div class="card">
                    <div class="card-header">댓글</div><p/>
                    <ul id="reply--box" class="list-group" th:each="comment:${comments}">
                        <li id="reply--1" class="list-group-item d-flex justify-content-between">
                            <div>
                                <img th:src="@{${savePath} + '/' + ${comment.user.getMainEmotion()}}" style="width: 30px; height: 30px">
                                <span class="text-monospace mr-1"><span class="text-monospace mr-1" th:text="${comment.user.nickName}"></span></span>   <!---->
                                <span class="text-monospace mr-1"><div th:text="${comment.content}"></div></span>
                            </div>
                              <div class="d-flex">
                                  <th:block th:if="${authUser != null}">
                                      <th:block th:if="${comment.user.email == authUser.email}">
<!--                                          <a class="on">수정</a><p/>-->
                                          <a class="on" th:href="@{'/comment/delete/'+${comment.id}}">삭제</a>
                                      </th:block>
                                  </th:block>

                             </div>
                        </li>
                    </ul>
                </div>
                <br/>
                <div class="card mb-2 mt-5">
                    <div class="card-header bg-light">
                        <i class="fa fa-comment fa"></i> 댓글쓰기
                    </div>
                    <div class="card-body">
                        <form th:action="@{/comment/insert}" method="post">
                            <input type="hidden" id="id" th:value="${id}" name="parentId">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <textarea class="form-control" id="comment-content" rows="1" name="content"></textarea>
                                <button type="submit" id="comment-btn-save" class="btn btn-dark mt-3">등록</button>
                            </li>
                        </ul>
                        </form>
                    </div>
                </div>
            </main>



        </form>
    </div>
</main><!-- End #main -->

<!-- ======= Footer ======= -->
<footer th:replace="../templates/Baker/common/footer.html ::footer">
</footer>
<a href="#" class="back-to-top d-flex align-items-center justify-content-center">
    <i class="bi bi-arrow-up-short"></i>
</a>

<!-- Vendor JS Files -->
<script src="/assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="/assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="/assets/vendor/php-email-form/validate.js"></script>

<!--Slideshow header-->
<script src="/board/board.js"></script>


<!-- Template Main JS File -->
<script src="/assets/js/main.js"></script>

<script>
    function myFunction() {
        var element = document.body;
        element.classList.toggle("dark-mode");
    }
</script>

</body>

</html>